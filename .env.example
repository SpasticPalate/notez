# Notez Environment Configuration
# Copy this file to .env and update the values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# ⚠️ SECURITY BEST PRACTICE:
# For production, use separate credentials variables instead of hardcoding
# the password in DATABASE_URL. The application will construct the URL
# automatically from these individual components.
# =============================================================================

# PostgreSQL Connection Components (RECOMMENDED)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=notez
POSTGRES_USER=notez
POSTGRES_PASSWORD=changeme

# PostgreSQL Database URL (LEGACY - for backward compatibility)
# Format: postgresql://username:password@host:port/database
# NOTE: If DATABASE_URL is set, it takes precedence over individual variables
# For better security, REMOVE this line and let the app construct it from above
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?schema=public

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Node environment (development, production, test)
NODE_ENV=production

# Server host and port
HOST=0.0.0.0
PORT=3000
APP_PORT=3000

# Logging level (error, warn, info, debug, trace)
LOG_LEVEL=info

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed CORS origin (frontend URL)
# For development: http://localhost:5173
# For production: https://your-domain.com
CORS_ORIGIN=http://localhost:5173

# =============================================================================
# SECURITY - JWT & COOKIES
# =============================================================================
# ⚠️ IMPORTANT: Change these values in production!
# Generate secure random strings (32+ characters recommended)

# JWT Access Token Secret (used for short-lived access tokens)
JWT_ACCESS_SECRET=change-me-in-production-access-secret-min-32-chars

# JWT Refresh Token Secret (used for long-lived refresh tokens)
JWT_REFRESH_SECRET=change-me-in-production-refresh-secret-min-32-chars

# Cookie Signing Secret (used for signed cookies)
COOKIE_SECRET=change-me-in-production-cookie-secret-min-32-chars

# =============================================================================
# ENCRYPTION
# =============================================================================
# ⚠️ IMPORTANT: Change this value in production!
# Used to encrypt AI API keys at rest in the database
# Must be at least 32 characters

ENCRYPTION_KEY=change-me-in-production-encryption-key-min-32-characters-required

# =============================================================================
# MINIO STORAGE (Image Uploads)
# =============================================================================
# MinIO provides S3-compatible object storage for image uploads
# ⚠️ IMPORTANT: Change MINIO_SECRET_KEY in production!

# MinIO server endpoint (container name in docker-compose)
MINIO_ENDPOINT=minio

# MinIO API port
MINIO_PORT=9000

# Use SSL for MinIO connection (true in production with reverse proxy)
MINIO_USE_SSL=false

# MinIO access credentials
MINIO_ACCESS_KEY=notez
MINIO_SECRET_KEY=change-me-in-production-minio-secret-key

# Bucket name for storing images
MINIO_BUCKET=notez-images

# =============================================================================
# GENERATE SECURE SECRETS
# =============================================================================
# Use these commands to generate secure random secrets:
#
# On Linux/Mac:
#   openssl rand -base64 48
#
# On Windows (PowerShell):
#   -join ((48..122) | Get-Random -Count 48 | % {[char]$_})
#
# Or use an online generator (ensure HTTPS):
#   https://www.random.org/strings/
#
# =============================================================================
